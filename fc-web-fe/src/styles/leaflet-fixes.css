/* Importar os estilos do Leaflet */
@import url('https://unpkg.com/leaflet@1.7.1/dist/leaflet.css');
@import url('https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css');

/* Corrigir ícones do Leaflet */
.leaflet-default-icon-path {
  background-image: url(https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png);
}

.leaflet-default-shadow-path {
  background-image: url(https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png);
}

/* URLs específicas para os ícones do Leaflet */
.leaflet-draw-toolbar.leaflet-bar a {
  background-image: url('https://unpkg.com/leaflet-draw@1.0.4/dist/images/spritesheet.png');
  background-repeat: no-repeat;
}

/* Ícones específicos para cada função do Leaflet Draw */
.leaflet-draw-draw-polyline {
  background-position: -2px -2px;
}

.leaflet-draw-draw-polygon {
  background-position: -31px -2px;
}

.leaflet-draw-draw-rectangle {
  background-position: -62px -2px;
}

.leaflet-draw-draw-circle {
  background-position: -92px -2px;
}

.leaflet-draw-draw-marker {
  background-position: -122px -2px;
}

.leaflet-draw-edit-edit {
  background-position: -152px -2px;
}

.leaflet-draw-edit-remove {
  background-position: -182px -2px;
}

.leaflet-draw-edit-edit.leaflet-disabled {
  background-position: -152px -32px;
}

.leaflet-draw-edit-remove.leaflet-disabled {
  background-position: -182px -32px;
}

/* Contêiner do mapa */
.map-container {
  width: 100%;
  margin-top: 20px;
  margin-bottom: 20px;
  position: relative;
}

/* Instruções de desenho */
.drawing-instructions {
  background: rgba(255, 255, 255, 0.9);
  padding: 10px;
  border-radius: 4px;
  position: absolute;
  top: 10px;
  left: 10px;
  z-index: 1000;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  font-size: 14px;
  max-width: 300px;
}

/* Correções para os controles de desenho */
.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polygon {
  background-position: -2px -2px;
}

.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit {
  background-position: -2px -24px;
}

.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove {
  background-position: -2px -46px;
}

/* Corrigir o z-index do contêiner do mapa */
.leaflet-container {
  z-index: 1;
  width: 100%;
  height: 500px; /* Ajustado para corresponder à altura definida no DashboardPage */
}

/* Corrigir ícones do Leaflet que não carregam corretamente */
.leaflet-draw-toolbar .leaflet-draw-draw-polygon,
.leaflet-draw-toolbar .leaflet-draw-draw-polyline,
.leaflet-draw-toolbar .leaflet-draw-draw-rectangle,
.leaflet-draw-toolbar .leaflet-draw-draw-circle,
.leaflet-draw-toolbar .leaflet-draw-draw-marker,
.leaflet-draw-toolbar .leaflet-draw-draw-circlemarker,
.leaflet-draw-toolbar .leaflet-draw-edit-edit,
.leaflet-draw-toolbar .leaflet-draw-edit-remove {
  background-image: url('https://unpkg.com/leaflet-draw@1.0.4/dist/images/spritesheet.svg');
}

.leaflet-draw-toolbar .leaflet-draw-draw-polygon {
  background-position: -31px -2px;
}

.leaflet-draw-toolbar .leaflet-draw-edit-edit {
  background-position: -152px -2px;
}

.leaflet-draw-toolbar .leaflet-draw-edit-remove {
  background-position: -182px -2px;
}

/* Z-index fixo para as instruções de desenho */
.drawing-instructions {
  z-index: 1000;
  background: rgba(255, 255, 255, 0.8);
  position: absolute;
  top: 10px;
  left: 50px;
  padding: 10px;
  border-radius: 4px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.4);
}

/* Container do mapa */
.map-container {
  position: relative;
  margin-top: 20px;
  width: 100%;
  height: 500px;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid #ddd;
}

/* Estilos para os marcadores personalizados */
.custom-div-icon {
  background: transparent;
  border: none;
}

.custom-marker {
  border-radius: 50%;
  display: block;
  cursor: pointer;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  border: 3px solid white;
}

/* Efeito hover nos marcadores */
.custom-marker:hover {
  transform: scale(1.2);
  transition: transform 0.2s ease;
  z-index: 1000 !important;
}

/* Ajuste da visualização das camadas */
.leaflet-pane {
  z-index: 400;
}

.leaflet-marker-pane {
  z-index: 450;
}

.leaflet-tooltip-pane {
  z-index: 460;
}

.leaflet-popup-pane {
  z-index: 470;
}

/* Garante que os popups fiquem acima de tudo */
.leaflet-popup {
  z-index: 1000 !important;
}

.leaflet-popup-content img {
  max-width: 100%;
  display: block;
  margin: 10px auto;
  border-radius: 4px;
} 